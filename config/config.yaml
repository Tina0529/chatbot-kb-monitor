# Chatbot KB Monitor Configuration

# Browser settings
browser:
  headless: true
  timeout: 30000  # milliseconds
  slow_mo: 0  # milliseconds
  screenshot:
    enabled: true
    full_page: true

# Monitoring settings
monitoring:
  base_url: "https://admin.gbase.ai"
  # Direct URL to the KB data source page (skip navigation)
  direct_kb_url: "https://admin.gbase.ai/assist/b50d5b21-262a-4802-a8c4-512af224c72f/datasets/b30daf1b-46c6-4113-af5d-ee68215490d4/data-source/file"
  kb_name: "ニュウマン高輪教育用"

  # Text patterns for detecting failures
  failure_indicators:
    - "失敗"
    - "エラー"
    - "error"
    - "failed"

  # Retry settings
  retry:
    max_attempts: 3
    backoff_base: 2  # exponential backoff multiplier
    initial_delay: 1  # seconds

# Logging settings
logging:
  level: "DEBUG"  # DEBUG, INFO, WARNING, ERROR
  file: "logs/monitor.log"
  max_bytes: 10485760  # 10MB
  backup_count: 5

# Screenshot settings
screenshots:
  directory: "screenshots"
  prefix: "kb_monitor_"
  format: "png"  # png or jpeg

# Lark notification settings (webhook URL in secrets.yaml)
lark:
  enabled: true
  timeout: 10  # seconds
  message_timezone: "Asia/Tokyo"
